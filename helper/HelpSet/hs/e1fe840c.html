<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css"></link>
<title>YM-Files</title>
</head>
<body class="doc">
<h1>YM-Files</h1>

<p><b>Note:</b><br>
YM generation can take a few seconds to finish. If you open the utility directly, the output goes to the debug window. So if you want to follow the progress - you should open the debug log.<br>
Once generation finishes, a vedi window will open!</p>

<p>--</p>

<p>YM file conversion and play code is generated in vedi, using the popup on the project file tree. By chosing the entry "build vectrex YM" the dialog is displayed. (see also the vedi-&gt;YM-Conversion documentation(s))</p>

<p>The popup menu is only activated while a ym file is selected in the current project. You have to download (or create ym) files befor you can convert them (in the configuration section under edit you can download a few thousand [wait a little for the download to finish]).</p>

<p>If you have a file available, you can easily add the file to your project. Place the mousecursor over the project name and press the right mouse button.</p>
<br><p align="center">
<img src="pics/YMCodeGen0.png" width="193" height="172"><br>
<em>add a file to the project</em></p><br>

<p>Chose "add file"... and navigate in the resulting file choser to the file of your desire.</p>
<br><p align="center">
<img src="pics/YMCodeGen1.png" width="509" height="358"><br>
<em>add a ym file</em></p><br>

<p>By chosing a file - the file is <i>copied</i> to the project directory and is NOW available.</p>
<br><p align="center">
<img src="pics/YMCodeGen2.png" width="279" height="336"><br>
<em>build vectrex YM</em></p><br>

<p>Selecting "build vectrex YM" opens the - dialog:  (which is explained in "vedi-&gt;YM-Conversion II")</p>
<br><p align="center">
<img src="pics/YMCodeGen3.png" width="1028" height="601"><br>
<em>convert ym dialog</em></p><br>

<p>Exiting the above dialog with "create" will (...hm...) create sources in the current project directory [the dialog must be closed manually, this can be done directly after generation started, you do not have to wait until generation of the source is finished]. <br>
(The name of the generated sources are derived from the chosen file. In the following it is assumed that the name given is <tt>"Last Ninja.ym"</tt>.) <br>
The generated sources are accompanied by an example ym player routine [if create player was selected in the dialog]. </p>

<p>Following sources are generated:
<ul><li>
<p><tt>ymPlayer.i</tt><br>
the subroutines to play ym-data</p>
</li><li>
<p><tt>VECTREX.I</tt> <br>
which is needed by the source</p>
</li><li>
<p><tt>LASTNINJ.asm</tt><br>
a file with the actual data </p>
</li><li>
<p><tt>Last NinjaMain.asm</tt><br>
a "main" file, with an example vectrex runnable "cartridge" file</p>
</li></ul>
</p>

<p>A vectrex playable binary file can be generated by setting the generate "Last NinjaMain.asm" file as the main file in the project.</p>
<br><p align="center">
<img src="pics/YMCodeGen4a.png" width="317" height="358"><br>
<em>set example main</em></p><br>

<p>The format and the actual display routines are documented in the source code - and quite extensibly in the above other mentioned pages.</p>

<p>Just a few bullet points...
<ul><li>
<p>the initialization routine is called <tt> init_ym_sound </tt> and expects the ym-sound data structure in register U. This must be called befor a new ym-file is to be played.</p>
</li><li>
<p>the actual ym routine is called <tt> do_ym_sound </tt> that routine should be places somewhere in your main loop</p>
</li><li>
<p>the generated ym player respects the settings of the dialog (like skipping certain registers, or playing uncompressed ym data)</p>
</li></ul>
</p>
<br><p align="center">
<img src="pics/YMCodeGen4.png" width="1022" height="741"><br>
<em>example main</em></p><br>
<br><p align="center">
<img src="pics/YMCodeGen5.png" width="385" height="474"><br>
<em>example ym player</em></p><br>
</body>
</html>
